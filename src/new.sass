*
  box-sizing: border-box

:root
  /* instant taps */
  touch-action: manipulation

  /* heed EXIF orientation */
  image-orientation: from-image

  /* horizontal scrollbar only */
  overflow: scroll visible

  /* hide bottom gap on iOS */
  background: black

.Memories
  display: flex
  flex-flow: column nowrap
  justify-content: start
  margin: 0
  position: absolute
  left: 0
  right: 0
  top: 0
  bottom: 0
  width: 100%
  height: 100%
  background: black

  .Display
    width: 100%
    height: 80%
    line-height: 0
    position: fixed
    top: 0
    background: black

    > img
      width: 100%
      height: 100%
      object-fit: scale-down

      &:not([src])
        visibility: hidden

  .Timeline
    /* instant taps, no pan-y, no pinch-zoom */
    touch-action: pan-x

    height: 20%
    line-height: 0
    white-space: nowrap
    position: absolute
    bottom: 0
    background: black

    .Cluster
      display: inline-block
      height: 100%
      margin-right: 1em
      direction: rtl
      white-space: nowrap
      overflow: hidden

      > a
        display: inline-block
        // display: inline-flex
        // flex-flow: row nowrap
        height: 100%
        transform: scale(1)
        transform-origin: right
        filter: brightness(0.5)
        transition-duration: 0.25s
        // transition-property: width, transform, filter
        // transition-property: transform, filter
        transition-property: filter

        &.selected
          filter: brightness(1)

        > *
          height: 100%
          // flex: 0 1 1em

      &:not(.selected):not(:focus-within) > a:not(:last-child)
        width: 1em
        transform: scale(calc(0.8 + 0.2 * var(--i) * var(--i) / (var(--len) - 1) / (var(--len) - 1)))

#debug
  position: fixed
  left: 0
  top: 0
  width: 100%
  color: fuchsia
  font: 3vh monospace
  white-space: pre-wrap
  word-break: break-all
